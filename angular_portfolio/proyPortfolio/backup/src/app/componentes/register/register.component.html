<h1>Registrar nuevo usuario</h1>
<!--
<form [formGroup]="form" class="m-5" (ngSubmit)="register($event)">
    <div class="mb-3">
        <label for="exampleInput" class="form-label">Nombre</label>
        <input type="text" formControlName="nombre" 
        [ngClass]="{'is-invalid': Nombre?.errors && Nombre?.touched, 
        'is-valid': !Nombre?.errors && Nombre?.touched }"
        class = "form-control" id="exampleInput" >
        
      </div>
      <div class="mb-3">
        <label for="exampleInput2" class="form-label">Apellido</label>
        <input type="text" formControlName="apellido" 
        [ngClass]="{'is-invalid': Apellido?.errors && Apellido?.touched, 
        'is-valid': !Apellido?.errors && Apellido?.touched }"
        class = "form-control" id="exampleInput2">
      </div>        

    <div class="mb-3">
        <label for="exampleInputEmail1" class="form-label">Email</label>
        <input type="email" formControlName="email" 
        [ngClass]="{'is-invalid': Email?.errors && Email?.touched, 
        'is-valid': !Email?.errors && Email?.touched }"
        class = "form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
        <div id="emailHelp" class="form-text">Nunca compartiremos tu correo electrónico.</div>
  
      </div>
      <div class="mb-3">
        <label for="exampleInputPassword1" class="form-label">Contraseña</label>
        <input type="password" formControlName="password" 
          [ngClass]="{'is-invalid': Password?.errors && Password?.touched, 
          'is-valid': !Password?.errors && Password?.touched }"
          class="form-control" id="exampleInputPassword1">
      </div>   

      <div class="mb-3">
        <label for="exampleInputPassword2" class="form-label">Confirmar Contraseña</label>
        <input type="password" formControlName="confPassword" 
          [ngClass]="{'is-invalid': confPassword?.errors && confPassword?.touched, 
          'is-valid': !confPassword?.errors && confPassword?.touched }"
          class="form-control" id="exampleInputPassword2">
      </div> 
    <button type="button" class="btn btn-primary" (click)="cancelar()">Cancelar</button>
    <button type="submit" class="btn btn-primary">Confirmar</button>
</form>
-->
<div class="col-md-12">
  <div class="card card-container">
    <img
      id="profile-img"
      src="//ssl.gstatic.com/accounts/ui/avatar_2x.png"
      class="profile-img-card"
    />
    <form
      *ngIf="!isSuccessful"
      name="form"
      (ngSubmit)="f.form.valid && register()"
      #f="ngForm"
      novalidate
    >
      <div class="form-group">
        <label for="username">Username</label>
        <input
          type="text"
          class="form-control"
          name="username"
          [(ngModel)]="username" 
          required
          minlength="3"
          maxlength="20"
          #username="ngModel"
          [ngClass]="{ 'is-invalid': f.submitted && username.errors }"
        />
        <div *ngIf="username.errors && f.submitted" class="invalid-feedback">
          <div *ngIf="username.errors['required']">Username is required</div>
          <div *ngIf="username.errors['minlength']">
            Username must be at least 3 characters
          </div>
          <div *ngIf="username.errors['maxlength']">
            Username must be at most 20 characters
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input
          type="email"
          class="form-control"
          name="email"
          [(ngModel)]="email"
          required
          email
          #email="ngModel"
          [ngClass]="{ 'is-invalid': f.submitted && email.errors }"
        />
        <div *ngIf="email.errors && f.submitted" class="invalid-feedback">
          <div *ngIf="email.errors['required']">Email is required</div>
          <div *ngIf="email.errors['email']">
            Email must be a valid email address
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input
          type="password"
          class="form-control"
          name="password"
          [(ngModel)]="password"
          required
          minlength="6"
          #password="ngModel"
          [ngClass]="{ 'is-invalid': f.submitted && password.errors }"
        />
        <div *ngIf="password.errors && f.submitted" class="invalid-feedback">
          <div *ngIf="password.errors['required']">Password is required</div>
          <div *ngIf="password.errors['minlength']">
            Password must be at least 6 characters
          </div>
        </div>
      </div>
      <div class="form-group">
        <button class="btn btn-primary btn-block">Sign Up</button>
      </div>

      <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
        Signup failed!<br />{{ errorMessage }}
      </div>
    </form>

    <div class="alert alert-success" *ngIf="isSuccessful">
      Your registration is successful!
    </div>
  </div>
</div>
